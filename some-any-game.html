<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Some & Any - Sentence Builder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .instructions {
            color: #666;
            font-size: 0.95em;
            margin-bottom: 20px;
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .score-item {
            text-align: center;
        }

        .score-label {
            font-size: 0.85em;
            color: #666;
            margin-bottom: 5px;
        }

        .score-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }

        .prompt {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.1em;
            color: #333;
            font-weight: 500;
        }

        .sentence-area {
            min-height: 80px;
            background: #fff;
            border: 3px solid #667eea;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .sentence-area.drag-over {
            border-color: #11998e;
            background: #f0fff0;
        }

        .sentence-area .placeholder {
            color: #999;
            font-style: italic;
        }

        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 25px;
            min-height: 60px;
        }

        .word {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            user-select: none;
            font-weight: 500;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .word:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .word:active {
            transform: scale(0.95);
        }

        .word.dragging {
            opacity: 0.5;
        }

        .word.in-sentence {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            cursor: pointer;
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .check-btn {
            background: #11998e;
            color: white;
        }

        .check-btn:hover {
            background: #0d7d6f;
            transform: translateY(-2px);
        }

        .reset-btn {
            background: #f093fb;
            color: white;
        }

        .reset-btn:hover {
            background: #d67ee0;
            transform: translateY(-2px);
        }

        .next-btn {
            background: #667eea;
            color: white;
        }

        .next-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .feedback {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            font-weight: 500;
            margin-bottom: 15px;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
            display: block;
        }

        .completion-message {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 15px;
            display: none;
        }

        .completion-message h2 {
            font-size: 2em;
            margin-bottom: 15px;
        }

        .completion-message p {
            font-size: 1.2em;
        }

        @media (max-width: 600px) {
            .game-container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5em;
            }

            .word {
                padding: 10px 15px;
                font-size: 0.9em;
            }

            button {
                padding: 10px 20px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>ðŸŽ® Some & Any Sentence Builder</h1>
            <div class="instructions">
                Click words to build a sentence using "some" or "any"
            </div>
        </div>

        <div class="score-board">
            <div class="score-item">
                <div class="score-label">Correct</div>
                <div class="score-value" id="correct-score">0</div>
            </div>
            <div class="score-item">
                <div class="score-label">Question</div>
                <div class="score-value" id="question-number">1</div>
            </div>
            <div class="score-item">
                <div class="score-label">Streak</div>
                <div class="score-value" id="streak">0</div>
            </div>
        </div>

        <div class="prompt" id="prompt"></div>

        <div class="sentence-area" id="sentence-area">
            <span class="placeholder">Click words below to build your sentence...</span>
        </div>

        <div class="word-bank" id="word-bank"></div>

        <div class="feedback" id="feedback"></div>

        <div class="buttons">
            <button class="reset-btn" onclick="resetSentence()">ðŸ”„ Reset</button>
            <button class="check-btn" onclick="checkAnswer()">âœ“ Check Answer</button>
            <button class="next-btn" onclick="nextQuestion()" style="display: none;" id="next-btn">Next â†’</button>
        </div>

        <div class="completion-message" id="completion">
            <h2>ðŸŽ‰ Excellent Work!</h2>
            <p>You've completed all the exercises!</p>
            <p id="final-score"></p>
            <button class="next-btn" onclick="restartGame()" style="margin-top: 20px;">Play Again</button>
        </div>
    </div>

    <script>
        // Sound effects using Web Audio API
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(type) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            switch(type) {
                case 'correct':
                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
                    oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.4);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.4);
                    break;
                    
                case 'incorrect':
                    oscillator.frequency.setValueAtTime(392.00, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(293.66, audioContext.currentTime + 0.15);
                    oscillator.type = 'triangle';
                    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.3);
                    break;
                    
                case 'add':
                    oscillator.frequency.setValueAtTime(300, audioContext.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.05);
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.05);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.05);
                    break;
                    
                case 'remove':
                    oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.1);
                    break;
                    
                case 'complete':
                    const notes = [523.25, 659.25, 783.99, 1046.50];
                    notes.forEach((freq, i) => {
                        const osc = audioContext.createOscillator();
                        const gain = audioContext.createGain();
                        osc.connect(gain);
                        gain.connect(audioContext.destination);
                        osc.frequency.setValueAtTime(freq, audioContext.currentTime + (i * 0.15));
                        gain.gain.setValueAtTime(0.2, audioContext.currentTime + (i * 0.15));
                        gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + (i * 0.15) + 0.3);
                        osc.start(audioContext.currentTime + (i * 0.15));
                        osc.stop(audioContext.currentTime + (i * 0.15) + 0.3);
                    });
                    return;
            }
        }

        const exercises = [
            {
                prompt: "Build a negative sentence about money using 'some' or 'any'",
                words: ["I", "don't", "have", "any", "money", "some"],
                correct: ["I", "don't", "have", "any", "money"],
                explanation: "Use 'any' in negative sentences."
            },
            {
                prompt: "Make an offer about coffee using 'some' or 'any'",
                words: ["Would", "you", "like", "some", "coffee", "any"],
                correct: ["Would", "you", "like", "some", "coffee"],
                explanation: "Use 'some' in offers and requests."
            },
            {
                prompt: "Build a positive sentence about apples in a basket",
                words: ["There", "are", "some", "apples", "in", "the", "basket", "any"],
                correct: ["There", "are", "some", "apples", "in", "the", "basket"],
                explanation: "Use 'some' in positive sentences."
            },
            {
                prompt: "Ask a question about questions using 'some' or 'any'",
                words: ["Do", "you", "have", "any", "questions", "some"],
                correct: ["Do", "you", "have", "any", "questions"],
                explanation: "Use 'any' in questions."
            },
            {
                prompt: "Build a negative sentence about buying bread",
                words: ["She", "didn't", "buy", "any", "bread", "some"],
                correct: ["She", "didn't", "buy", "any", "bread"],
                explanation: "Use 'any' in negative sentences."
            },
            {
                prompt: "Make a polite request for water",
                words: ["Can", "I", "have", "some", "water", "please", "any"],
                correct: ["Can", "I", "have", "some", "water", "please"],
                explanation: "Use 'some' when making requests."
            },
            {
                prompt: "Build a negative sentence about milk in the fridge",
                words: ["There", "isn't", "any", "milk", "in", "the", "fridge", "some"],
                correct: ["There", "isn't", "any", "milk", "in", "the", "fridge"],
                explanation: "Use 'any' in negative sentences."
            },
            {
                prompt: "Build a positive sentence about needing help with homework",
                words: ["I", "need", "some", "help", "with", "my", "homework", "any"],
                correct: ["I", "need", "some", "help", "with", "my", "homework"],
                explanation: "Use 'some' in positive sentences."
            },
            {
                prompt: "Ask a question about seeing friends",
                words: ["Did", "you", "see", "any", "of", "your", "friends", "some"],
                correct: ["Did", "you", "see", "any", "of", "your", "friends"],
                explanation: "Use 'any' in questions."
            },
            {
                prompt: "Make an offer about cake",
                words: ["Would", "you", "like", "some", "cake", "any"],
                correct: ["Would", "you", "like", "some", "cake"],
                explanation: "Use 'some' in offers."
            },
            {
                prompt: "Build a negative sentence about finding information",
                words: ["We", "couldn't", "find", "any", "information", "online", "some"],
                correct: ["We", "couldn't", "find", "any", "information", "online"],
                explanation: "Use 'any' in negative sentences."
            },
            {
                prompt: "Build a positive sentence about making new friends",
                words: ["I", "made", "some", "new", "friends", "at", "school", "any"],
                correct: ["I", "made", "some", "new", "friends", "at", "school"],
                explanation: "Use 'some' in positive sentences."
            },
            {
                prompt: "Ask a question about having sugar",
                words: ["Do", "you", "have", "any", "sugar", "some"],
                correct: ["Do", "you", "have", "any", "sugar"],
                explanation: "Use 'any' in questions."
            },
            {
                prompt: "Build a negative sentence about speaking languages",
                words: ["He", "doesn't", "speak", "any", "foreign", "languages", "some"],
                correct: ["He", "doesn't", "speak", "any", "foreign", "languages"],
                explanation: "Use 'any' in negative sentences."
            },
            {
                prompt: "Make a polite request for advice",
                words: ["Could", "you", "give", "me", "some", "advice", "any"],
                correct: ["Could", "you", "give", "me", "some", "advice"],
                explanation: "Use 'some' when making requests."
            },
            {
                prompt: "Build a positive sentence about eating cookies",
                words: ["They", "ate", "some", "cookies", "after", "dinner", "any"],
                correct: ["They", "ate", "some", "cookies", "after", "dinner"],
                explanation: "Use 'some' in positive sentences."
            },
            {
                prompt: "Ask a question about having plans tonight",
                words: ["Do", "you", "have", "any", "plans", "tonight", "some"],
                correct: ["Do", "you", "have", "any", "plans", "tonight"],
                explanation: "Use 'any' in questions."
            },
            {
                prompt: "Build a negative sentence about watching TV",
                words: ["I", "didn't", "watch", "any", "TV", "yesterday", "some"],
                correct: ["I", "didn't", "watch", "any", "TV", "yesterday"],
                explanation: "Use 'any' in negative sentences."
            },
            {
                prompt: "Build a positive sentence about buying books",
                words: ["She", "bought", "some", "interesting", "books", "some"],
                correct: ["She", "bought", "some", "interesting", "books"],
                explanation: "Use 'some' in positive sentences."
            },
            {
                prompt: "Make a polite offer about tea",
                words: ["Would", "you", "like", "some", "tea", "or", "coffee", "any"],
                correct: ["Would", "you", "like", "some", "tea", "or", "coffee"],
                explanation: "Use 'some' in offers."
            }
        ];

        let currentQuestion = 0;
        let correctAnswers = 0;
        let streak = 0;
        let currentSentence = [];

        // Save game state to localStorage
        function saveGameState() {
            const gameState = {
                currentQuestion,
                correctAnswers,
                streak,
                currentSentence
            };
            localStorage.setItem('someAnyGameState', JSON.stringify(gameState));
        }

        // Load game state from localStorage
        function loadGameState() {
            const savedState = localStorage.getItem('someAnyGameState');
            if (savedState) {
                const gameState = JSON.parse(savedState);
                currentQuestion = gameState.currentQuestion || 0;
                correctAnswers = gameState.correctAnswers || 0;
                streak = gameState.streak || 0;
                currentSentence = gameState.currentSentence || [];
                
                // Update score display
                document.getElementById('correct-score').textContent = correctAnswers;
                document.getElementById('streak').textContent = streak;
            }
        }

        // Clear saved game state
        function clearGameState() {
            localStorage.removeItem('someAnyGameState');
        }

        function loadQuestion() {
            const exercise = exercises[currentQuestion];
            document.getElementById('prompt').textContent = exercise.prompt;
            document.getElementById('question-number').textContent = currentQuestion + 1;
            
            const wordBank = document.getElementById('word-bank');
            wordBank.innerHTML = '';
            
            // Determine which words to show in the word bank
            // If currentSentence is empty, show all words shuffled
            // If currentSentence has words (restored from save), only show remaining words
            let availableWords;
            if (currentSentence.length === 0) {
                // New question - shuffle all words
                availableWords = [...exercise.words].sort(() => Math.random() - 0.5);
            } else {
                // Restored state - show only words not in sentence
                availableWords = [];
                const sentenceCopy = [...currentSentence];
                
                exercise.words.forEach(word => {
                    const indexInSentence = sentenceCopy.indexOf(word);
                    if (indexInSentence === -1) {
                        // Word not in sentence, add to available words
                        availableWords.push(word);
                    } else {
                        // Word is in sentence, remove one instance from the copy
                        sentenceCopy.splice(indexInSentence, 1);
                    }
                });
            }
            
            availableWords.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word';
                wordElement.textContent = word;
                wordElement.onclick = () => addWordToSentence(word);
                wordBank.appendChild(wordElement);
            });

            updateSentenceArea();
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            
            // Save state after loading question
            saveGameState();
        }

        function addWordToSentence(word) {
            // Add word to sentence
            currentSentence.push(word);
            
            // Remove word from word bank
            const wordBank = document.getElementById('word-bank');
            const wordElements = wordBank.querySelectorAll('.word');
            for (let elem of wordElements) {
                if (elem.textContent === word) {
                    elem.remove();
                    break;
                }
            }
            
            updateSentenceArea();
            playSound('add');
            
            // Save state
            saveGameState();
        }

        function removeWordFromSentence(word, index) {
            // Remove word from sentence
            currentSentence.splice(index, 1);
            
            // Add word back to word bank
            const wordBank = document.getElementById('word-bank');
            const wordElement = document.createElement('div');
            wordElement.className = 'word';
            wordElement.textContent = word;
            wordElement.onclick = () => addWordToSentence(word);
            wordBank.appendChild(wordElement);
            
            updateSentenceArea();
            playSound('remove');
            
            // Save state
            saveGameState();
        }

        function updateSentenceArea() {
            const sentenceArea = document.getElementById('sentence-area');
            sentenceArea.innerHTML = '';
            
            if (currentSentence.length === 0) {
                const placeholder = document.createElement('span');
                placeholder.className = 'placeholder';
                placeholder.textContent = 'Click words below to build your sentence...';
                sentenceArea.appendChild(placeholder);
            } else {
                currentSentence.forEach((word, index) => {
                    const wordElement = document.createElement('div');
                    wordElement.className = 'word in-sentence';
                    wordElement.textContent = word;
                    wordElement.draggable = true;
                    
                    // Track if this was a drag or a click
                    let isDragging = false;
                    
                    wordElement.addEventListener('dragstart', (e) => {
                        isDragging = true;
                        handleDragStart(e);
                    });
                    
                    wordElement.addEventListener('dragend', (e) => {
                        handleDragEnd(e);
                        // Reset after a short delay to allow click to check
                        setTimeout(() => { isDragging = false; }, 100);
                    });
                    
                    wordElement.onclick = () => {
                        if (!isDragging) {
                            removeWordFromSentence(word, index);
                        }
                    };
                    
                    sentenceArea.appendChild(wordElement);
                });
            }
        }

        // Drag event handlers
        function handleDragStart(e) {
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/plain', e.target.textContent);
            playSound('add');
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function getDragAfterElement(container, x) {
            const draggableElements = [...container.querySelectorAll('.word.in-sentence:not(.dragging)')];
            
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = x - box.left - box.width / 2;
                
                if (offset < 0 && offset > closest.offset) {
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }

        // Set up drag and drop for sentence area
        const sentenceArea = document.getElementById('sentence-area');
        
        sentenceArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            sentenceArea.classList.add('drag-over');
            
            const draggingElement = document.querySelector('.dragging');
            if (!draggingElement || !draggingElement.classList.contains('in-sentence')) return;
            
            const afterElement = getDragAfterElement(sentenceArea, e.clientX);
            
            // Remove any existing drop indicator
            const existingIndicator = sentenceArea.querySelector('.drop-indicator');
            if (existingIndicator) {
                existingIndicator.remove();
            }
            
            // Add visual indicator
            const indicator = document.createElement('div');
            indicator.className = 'drop-indicator';
            indicator.style.cssText = 'width: 3px; height: 40px; background: #11998e; border-radius: 2px; margin: 0 5px;';
            
            if (afterElement == null) {
                sentenceArea.appendChild(indicator);
            } else {
                sentenceArea.insertBefore(indicator, afterElement);
            }
        });

        sentenceArea.addEventListener('dragleave', (e) => {
            if (e.target === sentenceArea) {
                sentenceArea.classList.remove('drag-over');
                const indicator = sentenceArea.querySelector('.drop-indicator');
                if (indicator) indicator.remove();
            }
        });

        sentenceArea.addEventListener('drop', (e) => {
            e.preventDefault();
            sentenceArea.classList.remove('drag-over');
            
            const word = e.dataTransfer.getData('text/plain');
            const draggingElement = document.querySelector('.dragging');
            
            // Remove drop indicator
            const indicator = sentenceArea.querySelector('.drop-indicator');
            if (indicator) indicator.remove();
            
            if (draggingElement && draggingElement.classList.contains('in-sentence')) {
                const afterElement = getDragAfterElement(sentenceArea, e.clientX);
                
                // Find current position
                const oldIndex = currentSentence.indexOf(word);
                
                // Determine new position
                let newIndex;
                if (afterElement == null) {
                    newIndex = currentSentence.length - 1;
                } else {
                    const afterWord = afterElement.textContent;
                    newIndex = currentSentence.indexOf(afterWord);
                }
                
                // Reorder the sentence array
                currentSentence.splice(oldIndex, 1);
                if (oldIndex < newIndex) {
                    newIndex--;
                }
                currentSentence.splice(newIndex, 0, word);
                
                updateSentenceArea();
                playSound('remove');
                
                // Save state after reordering
                saveGameState();
            }
        });

        function resetSentence() {
            currentSentence = [];
            loadQuestion();
        }

        function checkAnswer() {
            const exercise = exercises[currentQuestion];
            const feedback = document.getElementById('feedback');
            
            const isCorrect = JSON.stringify(currentSentence) === JSON.stringify(exercise.correct);
            
            if (isCorrect) {
                playSound('correct');
                feedback.className = 'feedback correct';
                feedback.textContent = `âœ“ Correct! ${exercise.explanation}`;
                correctAnswers++;
                streak++;
                document.getElementById('correct-score').textContent = correctAnswers;
                document.getElementById('streak').textContent = streak;
                document.getElementById('next-btn').style.display = 'inline-block';
                
                // Save state
                saveGameState();
            } else {
                playSound('incorrect');
                feedback.className = 'feedback incorrect';
                feedback.textContent = `âœ— Not quite. ${exercise.explanation} Try again!`;
                streak = 0;
                document.getElementById('streak').textContent = streak;
                
                // Save state
                saveGameState();
            }
        }

        function nextQuestion() {
            currentQuestion++;
            currentSentence = []; // Reset sentence for new question
            
            if (currentQuestion >= exercises.length) {
                showCompletion();
            } else {
                loadQuestion();
            }
        }

        function showCompletion() {
            playSound('complete');
            
            // Clear saved state since game is complete
            clearGameState();
            
            document.querySelector('.prompt').style.display = 'none';
            document.querySelector('.sentence-area').style.display = 'none';
            document.querySelector('.word-bank').style.display = 'none';
            document.querySelector('.buttons').style.display = 'none';
            document.querySelector('.feedback').style.display = 'none';
            
            const completion = document.getElementById('completion');
            const percentage = Math.round((correctAnswers / exercises.length) * 100);
            document.getElementById('final-score').textContent = 
                `You got ${correctAnswers} out of ${exercises.length} correct (${percentage}%)`;
            completion.style.display = 'block';
        }

        function restartGame() {
            currentQuestion = 0;
            correctAnswers = 0;
            streak = 0;
            document.getElementById('correct-score').textContent = '0';
            document.getElementById('streak').textContent = '0';
            
            // Clear saved state
            clearGameState();
            
            document.querySelector('.prompt').style.display = 'block';
            document.querySelector('.sentence-area').style.display = 'flex';
            document.querySelector('.word-bank').style.display = 'flex';
            document.querySelector('.buttons').style.display = 'flex';
            document.getElementById('completion').style.display = 'none';
            
            loadQuestion();
        }

        // Load saved state and initialize the first question
        loadGameState();
        loadQuestion();
    </script>
</body>
</html>
